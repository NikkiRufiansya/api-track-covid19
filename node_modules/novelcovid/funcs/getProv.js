const fetch = require('node-fetch');

module.exports = async function(params) {

    if (params.country) {
        try { return await fetch(`http://corona.servandos.us/${params.country}`).then(r=>r.json()); } catch (e) { throw new Error("Country could not be found.") };
    }

    if (!params.country) {
        try { return await fetch(`https://api.kawalcorona.com/indonesia/provinsi`).then(r=>r.json()); } catch (e) { throw new Error("Country could not be found.") };
    }
    
}